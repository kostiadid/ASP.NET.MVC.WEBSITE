(function(a){a.fn.navList=function(){var s=a(this);return $a=s.find("a"),b=[],$a.each(function(){var r=a(this),e=Math.max(0,r.parents("li").length-1),t=r.attr("href"),n=r.attr("target");b.push('<a class="link depth-'+e+'"'+(typeof n<"u"&&n!=""?' target="'+n+'"':"")+(typeof t<"u"&&t!=""?' href="'+t+'"':"")+'><span class="indent-'+e+'"></span>'+r.text()+"</a>")}),b.join("")},a.fn.panel=function(s){if(this.length==0)return e;if(this.length>1){for(var r=0;r<this.length;r++)a(this[r]).panel(s);return e}var e=a(this),t=a("body"),n=a(window),c=e.attr("id"),i;return i=a.extend({delay:0,hideOnClick:!1,hideOnEscape:!1,hideOnSwipe:!1,resetScroll:!1,resetForms:!1,side:null,target:e,visibleClass:"visible"},s),typeof i.target!="jQuery"&&(i.target=a(i.target)),e._hide=function(l){i.target.hasClass(i.visibleClass)&&(l&&(l.preventDefault(),l.stopPropagation()),i.target.removeClass(i.visibleClass),window.setTimeout(function(){i.resetScroll&&e.scrollTop(0),i.resetForms&&e.find("form").each(function(){this.reset()})},i.delay))},e.css("-ms-overflow-style","-ms-autohiding-scrollbar").css("-webkit-overflow-scrolling","touch"),i.hideOnClick&&(e.find("a").css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),e.on("click","a",function(l){var f=a(this),o=f.attr("href"),u=f.attr("target");!o||o=="#"||o==""||o=="#"+c||(l.preventDefault(),l.stopPropagation(),e._hide(),window.setTimeout(function(){u=="_blank"?window.open(o):window.location.href=o},i.delay+10))})),e.on("touchstart",function(l){e.touchPosX=l.originalEvent.touches[0].pageX,e.touchPosY=l.originalEvent.touches[0].pageY}),e.on("touchmove",function(l){if(!(e.touchPosX===null||e.touchPosY===null)){var f=e.touchPosX-l.originalEvent.touches[0].pageX,o=e.touchPosY-l.originalEvent.touches[0].pageY,u=e.outerHeight(),v=e.get(0).scrollHeight-e.scrollTop();if(i.hideOnSwipe){var p=!1,h=20,d=50;switch(i.side){case"left":p=o<h&&o>-1*h&&f>d;break;case"right":p=o<h&&o>-1*h&&f<-1*d;break;case"top":p=f<h&&f>-1*h&&o>d;break;case"bottom":p=f<h&&f>-1*h&&o<-1*d;break;default:break}if(p)return e.touchPosX=null,e.touchPosY=null,e._hide(),!1}(e.scrollTop()<0&&o<0||v>u-2&&v<u+2&&o>0)&&(l.preventDefault(),l.stopPropagation())}}),e.on("click touchend touchstart touchmove",function(l){l.stopPropagation()}),e.on("click",'a[href="#'+c+'"]',function(l){l.preventDefault(),l.stopPropagation(),i.target.removeClass(i.visibleClass)}),t.on("click touchend",function(l){e._hide(l)}),t.on("click",'a[href="#'+c+'"]',function(l){l.preventDefault(),l.stopPropagation(),i.target.toggleClass(i.visibleClass)}),i.hideOnEscape&&n.on("keydown",function(l){l.keyCode==27&&e._hide(l)}),e},a.fn.placeholder=function(){if(typeof document.createElement("input").placeholder<"u")return a(this);if(this.length==0)return r;if(this.length>1){for(var s=0;s<this.length;s++)a(this[s]).placeholder();return r}var r=a(this);return r.find("input[type=text],textarea").each(function(){var e=a(this);(e.val()==""||e.val()==e.attr("placeholder"))&&e.addClass("polyfill-placeholder").val(e.attr("placeholder"))}).on("blur",function(){var e=a(this);e.attr("name").match(/-polyfill-field$/)||e.val()==""&&e.addClass("polyfill-placeholder").val(e.attr("placeholder"))}).on("focus",function(){var e=a(this);e.attr("name").match(/-polyfill-field$/)||e.val()==e.attr("placeholder")&&e.removeClass("polyfill-placeholder").val("")}),r.find("input[type=password]").each(function(){var e=a(this),t=a(a("<div>").append(e.clone()).remove().html().replace(/type="password"/i,'type="text"').replace(/type=password/i,"type=text"));e.attr("id")!=""&&t.attr("id",e.attr("id")+"-polyfill-field"),e.attr("name")!=""&&t.attr("name",e.attr("name")+"-polyfill-field"),t.addClass("polyfill-placeholder").val(t.attr("placeholder")).insertAfter(e),e.val()==""?e.hide():t.hide(),e.on("blur",function(n){n.preventDefault();var c=e.parent().find("input[name="+e.attr("name")+"-polyfill-field]");e.val()==""&&(e.hide(),c.show())}),t.on("focus",function(n){n.preventDefault();var c=t.parent().find("input[name="+t.attr("name").replace("-polyfill-field","")+"]");t.hide(),c.show().focus()}).on("keypress",function(n){n.preventDefault(),t.val("")})}),r.on("submit",function(){r.find("input[type=text],input[type=password],textarea").each(function(e){var t=a(this);t.attr("name").match(/-polyfill-field$/)&&t.attr("name",""),t.val()==t.attr("placeholder")&&(t.removeClass("polyfill-placeholder"),t.val(""))})}).on("reset",function(e){e.preventDefault(),r.find("select").val(a("option:first").val()),r.find("input,textarea").each(function(){var t=a(this),n;switch(t.removeClass("polyfill-placeholder"),this.type){case"submit":case"reset":break;case"password":t.val(t.attr("defaultValue")),n=t.parent().find("input[name="+t.attr("name")+"-polyfill-field]"),t.val()==""?(t.hide(),n.show()):(t.show(),n.hide());break;case"checkbox":case"radio":t.attr("checked",t.attr("defaultValue"));break;case"text":case"textarea":t.val(t.attr("defaultValue")),t.val()==""&&(t.addClass("polyfill-placeholder"),t.val(t.attr("placeholder")));break;default:t.val(t.attr("defaultValue"));break}})}),r},a.prioritize=function(s,r){var e="__prioritize";typeof s!="jQuery"&&(s=a(s)),s.each(function(){var t=a(this),n,c=t.parent();if(c.length!=0)if(t.data(e)){if(r)return;n=t.data(e),t.insertAfter(n),t.removeData(e)}else{if(!r||(n=t.prev(),n.length==0))return;t.prependTo(c),t.data(e,n)}})}})(jQuery);
